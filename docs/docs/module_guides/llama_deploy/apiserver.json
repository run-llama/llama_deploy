{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/deployments/":{"get":{"summary":"Read Deployments","description":"Returns a list of active deployments.","operationId":"read_deployments_deployments__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/DeploymentDefinition"},"type":"array","title":"Response Read Deployments Deployments  Get"}}}}}}},"/deployments/{deployment_name}":{"get":{"summary":"Read Deployment","description":"Returns the details of a specific deployment.","operationId":"read_deployment_deployments__deployment_name__get","parameters":[{"name":"deployment_name","in":"path","required":true,"schema":{"type":"string","title":"Deployment Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeploymentDefinition"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deployments/create":{"post":{"summary":"Create Deployment","description":"Creates a new deployment by uploading a configuration file.","operationId":"create_deployment_deployments_create_post","parameters":[{"name":"reload","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Reload"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_deployment_deployments_create_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeploymentDefinition"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deployments/{deployment_name}/tasks/run":{"post":{"summary":"Create Deployment Task","description":"Create a task for the deployment, wait for result and delete associated session.","operationId":"create_deployment_task_deployments__deployment_name__tasks_run_post","parameters":[{"name":"deployment_name","in":"path","required":true,"schema":{"type":"string","title":"Deployment Name"}},{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskDefinition"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deployments/{deployment_name}/tasks/create":{"post":{"summary":"Create Deployment Task Nowait","description":"Create a task for the deployment but don't wait for result.","operationId":"create_deployment_task_nowait_deployments__deployment_name__tasks_create_post","parameters":[{"name":"deployment_name","in":"path","required":true,"schema":{"type":"string","title":"Deployment Name"}},{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskDefinition"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskDefinition"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deployments/{deployment_name}/tasks/{task_id}/events":{"post":{"summary":"Send Event","description":"Send a human response event to a service for a specific task and session.","operationId":"send_event_deployments__deployment_name__tasks__task_id__events_post","parameters":[{"name":"deployment_name","in":"path","required":true,"schema":{"type":"string","title":"Deployment Name"}},{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}},{"name":"session_id","in":"query","required":true,"schema":{"type":"string","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventDefinition"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventDefinition"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Get Events","description":"Get the stream of events from a given task and session.","operationId":"get_events_deployments__deployment_name__tasks__task_id__events_get","parameters":[{"name":"deployment_name","in":"path","required":true,"schema":{"type":"string","title":"Deployment Name"}},{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}},{"name":"session_id","in":"query","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deployments/{deployment_name}/tasks/{task_id}/results":{"get":{"summary":"Get Task Result","description":"Get the task result associated with a task and session.","operationId":"get_task_result_deployments__deployment_name__tasks__task_id__results_get","parameters":[{"name":"deployment_name","in":"path","required":true,"schema":{"type":"string","title":"Deployment Name"}},{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}},{"name":"session_id","in":"query","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/TaskResult"},{"type":"null"}],"title":"Response Get Task Result Deployments  Deployment Name  Tasks  Task Id  Results Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deployments/{deployment_name}/tasks":{"get":{"summary":"Get Tasks","description":"Get all the tasks from all the sessions in a given deployment.","operationId":"get_tasks_deployments__deployment_name__tasks_get","parameters":[{"name":"deployment_name","in":"path","required":true,"schema":{"type":"string","title":"Deployment Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskDefinition"},"title":"Response Get Tasks Deployments  Deployment Name  Tasks Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deployments/{deployment_name}/sessions":{"get":{"summary":"Get Sessions","description":"Get the active sessions in a deployment and service.","operationId":"get_sessions_deployments__deployment_name__sessions_get","parameters":[{"name":"deployment_name","in":"path","required":true,"schema":{"type":"string","title":"Deployment Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SessionDefinition"},"title":"Response Get Sessions Deployments  Deployment Name  Sessions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deployments/{deployment_name}/sessions/{session_id}":{"get":{"summary":"Get Session","description":"Get the definition of a session by ID.","operationId":"get_session_deployments__deployment_name__sessions__session_id__get","parameters":[{"name":"deployment_name","in":"path","required":true,"schema":{"type":"string","title":"Deployment Name"}},{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionDefinition"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deployments/{deployment_name}/sessions/create":{"post":{"summary":"Create Session","description":"Create a new session for a deployment.","operationId":"create_session_deployments__deployment_name__sessions_create_post","parameters":[{"name":"deployment_name","in":"path","required":true,"schema":{"type":"string","title":"Deployment Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionDefinition"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/deployments/{deployment_name}/sessions/delete":{"post":{"summary":"Delete Session","description":"Get the active sessions in a deployment and service.","operationId":"delete_session_deployments__deployment_name__sessions_delete_post","parameters":[{"name":"deployment_name","in":"path","required":true,"schema":{"type":"string","title":"Deployment Name"}},{"name":"session_id","in":"query","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/status/":{"get":{"summary":"Status","operationId":"status_status__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Status"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_create_deployment_deployments_create_post":{"properties":{"config_file":{"type":"string","format":"binary","title":"Config File"}},"type":"object","required":["config_file"],"title":"Body_create_deployment_deployments_create_post"},"ChatMessage":{"properties":{"role":{"$ref":"#/components/schemas/MessageRole","default":"user"},"content":{"anyOf":[{},{"type":"null"}],"title":"Content","default":""},"additional_kwargs":{"title":"Additional Kwargs"}},"type":"object","title":"ChatMessage","description":"Chat message."},"DeploymentDefinition":{"properties":{"name":{"type":"string","title":"Name"}},"type":"object","required":["name"],"title":"DeploymentDefinition"},"EventDefinition":{"properties":{"agent_id":{"type":"string","title":"Agent Id"},"event_obj_str":{"type":"string","title":"Event Obj Str"}},"type":"object","required":["agent_id","event_obj_str"],"title":"EventDefinition","description":"The definition of event.\n\nTo be used as payloads for service endpoints when wanting to send serialized\nEvents.\n\nAttributes:\n    event_object_str (str): serialized string of event."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MessageRole":{"type":"string","enum":["system","user","assistant","function","tool","chatbot","model"],"title":"MessageRole","description":"Message role."},"SessionDefinition":{"properties":{"session_id":{"type":"string","title":"Session Id"},"task_ids":{"items":{"type":"string"},"type":"array","title":"Task Ids"},"state":{"type":"object","title":"State"}},"type":"object","title":"SessionDefinition","description":"The definition of a session.\n\nAttributes:\n    session_id (str):\n        The session ID. Defaults to a random UUID.\n    task_definitions (list[str]):\n        The task ids in order, representing the session.\n    state (dict):\n        The current session state."},"Status":{"properties":{"status":{"$ref":"#/components/schemas/StatusEnum"},"status_message":{"type":"string","title":"Status Message"},"max_deployments":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Deployments"},"deployments":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Deployments"}},"type":"object","required":["status","status_message"],"title":"Status"},"StatusEnum":{"type":"string","enum":["Healthy","Unhealthy","Down"],"title":"StatusEnum"},"TaskDefinition":{"properties":{"input":{"type":"string","title":"Input"},"task_id":{"type":"string","title":"Task Id"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"},"agent_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Agent Id"}},"type":"object","required":["input"],"title":"TaskDefinition","description":"The definition and state of a task.\n\nAttributes:\n    input (str):\n        The task input.\n    session_id (str):\n        The session ID that the task belongs to.\n    task_id (str):\n        The task ID. Defaults to a random UUID.\n    agent_id (str):\n        The agent ID that the task should be sent to.\n        If blank, the orchestrator decides."},"TaskResult":{"properties":{"task_id":{"type":"string","title":"Task Id"},"history":{"items":{"$ref":"#/components/schemas/ChatMessage"},"type":"array","title":"History"},"result":{"type":"string","title":"Result"},"data":{"type":"object","title":"Data"}},"type":"object","required":["task_id","history","result"],"title":"TaskResult","description":"The result of a task.\n\nAttributes:\n    task_id (str):\n        The task ID.\n    history (list[ChatMessage]):\n        The task history.\n    result (str):\n        The task result.\n    data (dict):\n        Additional data about the task or result.\n    is_last (bool):\n        If not true, there are more results to be streamed.\n    index (int):\n        The index of the task in the session."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
